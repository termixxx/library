<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Клиенты библиотеки</title>
    <link rel="stylesheet" href="../static/style/clients.css">
</head>
<body>
<h1>Клиенты библиотеки</h1>

<button id="showFormBtn">Добавить клиента</button>

<table>
    <thead>
    <tr>
        <th>ФИО</th>
        <th>Дата рождения</th>
        <th>Действия</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="client : ${clients}" th:attr="data-client-id=${client.id}">
        <td th:text="${client.fullName}"></td>
        <td th:text="${client.birthDate}"></td>
        <td>
            <button class="action-btn edit-btn" th:onclick="'editClient(' + ${client.id} + ')'">Редактировать</button>
            <button class="action-btn delete-btn" th:onclick="'deleteClient(' + ${client.id} + ')'">Удалить</button>
        </td>
    </tr>
    </tbody>
</table>

<div id="addClientForm">
    <form id="clientForm" method="POST">
        <input type="hidden" id="clientId" name="id">
        <input type="hidden" name="_method" id="method" value="POST">

        <label for="fullName">ФИО:</label>
        <input type="text" id="fullName" name="fullName" required><br>

        <label for="birthDate">Дата рождения:</label>
        <input type="date" id="birthDate" name="birthDate" required><br>

        <button type="submit">Сохранить</button>
        <button type="button" id="cancelBtn">Отмена</button>
        <div id="errorMessage" class="error-message" style="display: none;"></div>
    </form>
</div>

<script src="../static/js/clients.js"></script>
</body>
</html>