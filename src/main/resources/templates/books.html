<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Книги</title>
    <link rel="stylesheet" href="../static/style/books.css">
</head>
<body>

<h1>Книги</h1>

<button id="showFormBtn">Добавить книгу</button>

<table>
    <thead>
    <tr>
        <th>Название</th>
        <th>Автор</th>
        <th>ISBN</th>
        <th>Действия</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="book : ${books}">
        <td th:text="${book.title}"></td>
        <td th:text="${book.author}"></td>
        <td th:text="${book.isbn}"></td>
        <td>
            <button class="action-btn edit-btn" th:onclick="'editBook(' + ${book.id} + ')'">Редактировать</button>
            <button class="action-btn delete-btn" th:onclick="'deleteBook(' + ${book.id} + ')'">Удалить</button>
        </td>
    </tr>
    </tbody>
</table>

<div id="addBookForm">
    <form id="bookForm" method="POST">
        <input type="hidden" id="bookId" name="id">
        <input type="hidden" name="_method" id="method" value="POST">

        <label for="title">Название:</label>
        <input type="text" id="title" name="title" required><br>

        <label for="author">Автор:</label>
        <input type="text" id="author" name="author" required><br>

        <label for="isbn">ISBN:</label>
        <input type="text" id="isbn" name="isbn" required><br>

        <button type="submit">Сохранить</button>
        <button type="button" id="cancelBtn">Отмена</button>
        <div id="errorMessage" class="error-message" style="display: none;"></div>
    </form>
</div>

<script src="../static/js/books.js"></script>

</body>
</html>